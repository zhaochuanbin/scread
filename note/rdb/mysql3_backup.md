### MSQL备份
**热备份:不需要任何的服务停机时间。**
为什么备份：灾难恢复、审计、测试

恢复系统：备份在先、备份有脚本和任务自动完成、备份是日常任务、异地加密备份、多人规划、设计和实施备份。

备份和恢复策略：恢复点目标(PRO)和恢复时间目标(PTO)

**复制和RAID阵列不是备份**
如果生产库执行了DRO DATABASE命令，他们就没办法恢复所有的数据。

**MYSQL备份方案**
- 对于大数据库来说，物理备份是必须的，逻辑备份太慢并且受资源限制，从逻辑备份中恢复需要很长时间。基于快照的备份，如XtraBackup和Enterprise Backup是最好的选择，对于较小的数据库逻辑备份是不错的选择。
- 保留多个备份集
- 定期从逻辑备份(物理备份)中抽取数据进行恢复测试。
- 保存二进制日志以用户基于故障点时间点的恢复。expire_logs_days参数应该足够长，可以从最近几次物理备份中基于时间点的恢复，这样可以保持主库运行切不应用任何二进制日志的情况下创建一个背库。
- 备份和恢复过程中所需要的资源(CPU、磁盘空间、实际时间、一级网络宽带等)
- 安全性考虑

**基于故障点的恢复，要建立日常备份二进制日志，这样才能从备份中还原，并通过重放二进制日志来恢复到想要的时间点。**

### 逻辑备份优点
- 逻辑备份可以用编辑器或命令查看和操作普通文件。
- 恢复简单
- 可以通过网络类备份和恢复
- 灵活(mysqlinport 或mysqldump)
- 与存储索引无关
- 有助于避免数据损坏

### 逻辑备份缺点
- 必须使用数据库服务器完成逻辑备份，是使用CPU
- 逻辑备份在某些情境下比数据库文件更大
- 无法保证多处后再还原出来的一定是一样的数据。浮点标识问题，少见。
- 从逻辑备份中还原MYSQL加载和解释语句，转化成存储格式，重建索引等

### 物理备份优点
- 基于文件的物理备份，只需要将需要的文件复制到其他地方
- 恢复简单，将需要备份文件恢复到目的地，InnoDB需要停止服务器,MyISAM不需要。
- InnoDB和MyISAM备份跨平台
- 恢复备份快。

### 物理备份缺点
-InnoDB原始文件一般比逻辑备份大的多。

物理备份通常更加简单高效，单还是隔段时间做逻辑备份。先使用物理复制，以此数据启动服务器实例并运行mysqlcheck,然后周期行的使用mysqldump执行逻辑备份。混合使用，不会是生产服务器在导出时有过度负担，也可以生产一个快照。

备份内容:数据和表结构，触发器和存储过程，位二进制日志和InnoDB事物日志。

**增量备份:自从任意类型的上次备份后所有修改做的备份。**

**差异备份：自上次全备份后所哟改变的部分而做的备份。**



